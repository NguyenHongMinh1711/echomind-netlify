{"version":3,"file":"Resources-BeN6dzdh.js","sources":["../../src/pages/Resources.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardMedia,\n  CardActions,\n  Button,\n  Chip,\n  TextField,\n  InputAdornment,\n  CircularProgress,\n  Tabs,\n  Tab,\n  useTheme,\n  Divider,\n  Link\n} from '@mui/material';\nimport {\n  Search as SearchIcon,\n  Book as BookIcon,\n  VideoLibrary as VideoIcon,\n  Article as ArticleIcon,\n  Link as LinkIcon,\n  Favorite as FavoriteIcon,\n  FavoriteBorder as FavoriteBorderIcon\n} from '@mui/icons-material';\nimport { useSupabase } from '../contexts/SupabaseContext';\nimport MainLayout from '../layouts/MainLayout';\n\n// Resource types\ntype ResourceType = 'article' | 'video' | 'book' | 'link';\n\n// Resource interface\ninterface Resource {\n  id: string;\n  title: string;\n  description: string;\n  url: string;\n  image_url: string;\n  type: ResourceType;\n  tags: string[];\n  is_favorite: boolean;\n}\n\nconst Resources: React.FC = () => {\n  const { supabase, session } = useSupabase();\n  const theme = useTheme();\n\n  const [resources, setResources] = useState<Resource[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeTab, setActiveTab] = useState<ResourceType | 'all'>('all');\n\n  // Load resources\n  useEffect(() => {\n    const loadResources = async () => {\n      try {\n        setLoading(true);\n\n        // This would be replaced with actual Supabase query\n        // const { data, error } = await supabase\n        //   .from('resources')\n        //   .select('*')\n        //   .order('created_at', { ascending: false });\n\n        // For now, just use placeholder data\n        const placeholderData: Resource[] = [\n          {\n            id: '1',\n            title: 'Understanding Depression',\n            description: 'A comprehensive guide to understanding depression, its causes, symptoms, and treatment options.',\n            url: 'https://www.nimh.nih.gov/health/topics/depression',\n            image_url: 'https://images.unsplash.com/photo-1576091160550-2173dba999ef',\n            type: 'article',\n            tags: ['depression', 'mental health', 'education'],\n            is_favorite: false\n          },\n          {\n            id: '2',\n            title: 'Mindfulness Meditation for Anxiety',\n            description: 'Learn how mindfulness meditation can help reduce anxiety and improve mental well-being.',\n            url: 'https://www.youtube.com/watch?v=O-6f5wQXSu8',\n            image_url: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773',\n            type: 'video',\n            tags: ['anxiety', 'meditation', 'mindfulness'],\n            is_favorite: true\n          },\n          {\n            id: '3',\n            title: 'The Upward Spiral',\n            description: 'Using neuroscience to reverse the course of depression, one small change at a time.',\n            url: 'https://www.amazon.com/Upward-Spiral-Neuroscience-Reverse-Depression/dp/1626251207',\n            image_url: 'https://images.unsplash.com/photo-1544947950-fa07a98d237f',\n            type: 'book',\n            tags: ['depression', 'neuroscience', 'self-help'],\n            is_favorite: false\n          },\n          {\n            id: '4',\n            title: 'Crisis Text Line',\n            description: 'Free, 24/7 mental health support via text message.',\n            url: 'https://www.crisistextline.org/',\n            image_url: 'https://images.unsplash.com/photo-1516387938699-a93567ec168e',\n            type: 'link',\n            tags: ['crisis', 'support', 'helpline'],\n            is_favorite: false\n          },\n          {\n            id: '5',\n            title: 'EchoMind Community Chat',\n            description: 'Join our Telegram group chat to connect with other EchoMind users for support and discussion.',\n            url: 'https://t.me/+R4EEKgf_R585NGI9',\n            image_url: 'https://images.unsplash.com/photo-1577563908411-5077b6dc7624',\n            type: 'link',\n            tags: ['community', 'support', 'chat', 'telegram'],\n            is_favorite: false\n          }\n        ];\n\n        setResources(placeholderData);\n      } catch (error) {\n        console.error('Error loading resources:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadResources();\n  }, [supabase]);\n\n  const handleToggleFavorite = async (id: string) => {\n    if (!session?.user) return;\n\n    try {\n      // This would be replaced with actual Supabase update\n      // const { error } = await supabase\n      //   .from('user_favorites')\n      //   .upsert({\n      //     user_id: session.user.id,\n      //     resource_id: id,\n      //     is_favorite: !resources.find(r => r.id === id)?.is_favorite\n      //   });\n\n      setResources(prev =>\n        prev.map(resource =>\n          resource.id === id\n            ? { ...resource, is_favorite: !resource.is_favorite }\n            : resource\n        )\n      );\n    } catch (error) {\n      console.error('Error toggling favorite:', error);\n    }\n  };\n\n  // Get icon based on resource type\n  const getResourceIcon = (type: ResourceType) => {\n    switch (type) {\n      case 'article': return <ArticleIcon />;\n      case 'video': return <VideoIcon />;\n      case 'book': return <BookIcon />;\n      case 'link': return <LinkIcon />;\n      default: return <ArticleIcon />;\n    }\n  };\n\n  // Filter resources based on active tab and search query\n  const filteredResources = resources\n    .filter(resource =>\n      activeTab === 'all' || resource.type === activeTab\n    )\n    .filter(resource =>\n      searchQuery === '' ||\n      resource.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      resource.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      resource.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))\n    );\n\n  return (\n    <MainLayout>\n      <Box>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Resources\n        </Typography>\n\n        <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\n          Access a library of mental health resources curated to support your well-being journey.\n        </Typography>\n\n        <Box sx={{ mb: 3 }}>\n          <TextField\n            fullWidth\n            placeholder=\"Search resources...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              ),\n            }}\n            variant=\"outlined\"\n            size=\"small\"\n            sx={{ mb: 2 }}\n          />\n\n          <Tabs\n            value={activeTab}\n            onChange={(_, newValue) => setActiveTab(newValue)}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            variant=\"scrollable\"\n            scrollButtons=\"auto\"\n          >\n            <Tab label=\"All\" value=\"all\" />\n            <Tab label=\"Articles\" value=\"article\" />\n            <Tab label=\"Videos\" value=\"video\" />\n            <Tab label=\"Books\" value=\"book\" />\n            <Tab label=\"Links\" value=\"link\" />\n          </Tabs>\n        </Box>\n\n        {loading ? (\n          <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n            <CircularProgress />\n          </Box>\n        ) : filteredResources.length === 0 ? (\n          <Box sx={{ textAlign: 'center', py: 4 }}>\n            <Typography variant=\"body1\">\n              No resources found matching your criteria.\n            </Typography>\n          </Box>\n        ) : (\n          <Grid container spacing={3}>\n            {filteredResources.map(resource => (\n              <Grid item xs={12} sm={6} md={4} key={resource.id}>\n                <Card\n                  elevation={2}\n                  sx={{\n                    height: '100%',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    transition: 'transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out',\n                    '&:hover': {\n                      transform: 'translateY(-4px)',\n                      boxShadow: 4\n                    }\n                  }}\n                >\n                  <CardMedia\n                    component=\"img\"\n                    height=\"140\"\n                    image={resource.image_url}\n                    alt={resource.title}\n                  />\n                  <CardContent sx={{ flexGrow: 1 }}>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                      <Typography variant=\"h6\" component=\"h2\" gutterBottom>\n                        {resource.title}\n                      </Typography>\n                      <Box>\n                        {getResourceIcon(resource.type)}\n                      </Box>\n                    </Box>\n                    <Typography\n                      variant=\"body2\"\n                      color=\"text.secondary\"\n                      sx={{\n                        mb: 2,\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        display: '-webkit-box',\n                        WebkitLineClamp: 3,\n                        WebkitBoxOrient: 'vertical'\n                      }}\n                    >\n                      {resource.description}\n                    </Typography>\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5, mb: 1 }}>\n                      {resource.tags.map(tag => (\n                        <Chip\n                          key={tag}\n                          label={tag}\n                          size=\"small\"\n                          variant=\"outlined\"\n                          onClick={() => setSearchQuery(tag)}\n                        />\n                      ))}\n                    </Box>\n                  </CardContent>\n                  <Divider />\n                  <CardActions sx={{ justifyContent: 'space-between' }}>\n                    <Button\n                      size=\"small\"\n                      color=\"primary\"\n                      component={Link}\n                      href={resource.url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      startIcon={<LinkIcon />}\n                    >\n                      Open\n                    </Button>\n                    {session && (\n                      <Button\n                        size=\"small\"\n                        color={resource.is_favorite ? 'error' : 'default'}\n                        onClick={() => handleToggleFavorite(resource.id)}\n                        startIcon={resource.is_favorite ? <FavoriteIcon /> : <FavoriteBorderIcon />}\n                      >\n                        {resource.is_favorite ? 'Favorited' : 'Favorite'}\n                      </Button>\n                    )}\n                  </CardActions>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n      </Box>\n    </MainLayout>\n  );\n};\n\nexport default Resources;\n"],"names":["Resources","supabase","session","useSupabase","useTheme","resources","setResources","useState","loading","setLoading","searchQuery","setSearchQuery","activeTab","setActiveTab","useEffect","error","handleToggleFavorite","id","prev","resource","getResourceIcon","type","ArticleIcon","VideoIcon","BookIcon","LinkIcon","filteredResources","tag","jsx","MainLayout","jsxs","Box","Typography","TextField","e","InputAdornment","SearchIcon","Tabs","_","newValue","Tab","CircularProgress","Grid","Card","CardMedia","CardContent","Chip","Divider","CardActions","Button","Link","FavoriteIcon","FavoriteBorderIcon"],"mappings":"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"}