import{j as e,h as P,P as S,b as c,A as E,B as p,i as x,I as A,n as C,V as D,o as B,g as f,a as I,L as j}from"./mui-CFDhWL5c.js";import{u as W,a as t,L as y}from"./vendor-zWPymlFl.js";import{u as k}from"./index-DnHAAhUv.js";import{M as F}from"./MainLayout-B2T8W_MF.js";import{s as b}from"./authService-DJzAVVpJ.js";import"./supabase-DTcxSDRM.js";const R=()=>{const{supabase:z}=k(),u=W(),[i,m]=t.useState(""),[l,h]=t.useState(""),[d,v]=t.useState(!1),[r,o]=t.useState(!1),[g,s]=t.useState(null),w=async a=>{if(a.preventDefault(),!i||!l){s("Please enter both email and password");return}try{o(!0),s(null),(await b(i,l)).user&&u("/dashboard")}catch(n){console.error("Login error:",n),s(n instanceof Error?n.message:"Failed to login. Please try again.")}finally{o(!1)}},L=async()=>{m("demo@echomind.com"),h("demo123456");try{o(!0),s(null),(await b("demo@echomind.com","demo123456")).user&&u("/dashboard")}catch(a){console.error("Demo login error:",a),s("Demo account login failed. Please try regular login.")}finally{o(!1)}};return e.jsx(F,{children:e.jsx(P,{maxWidth:"sm",children:e.jsxs(S,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(c,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Login to EchoMind"}),g&&e.jsx(E,{severity:"error",sx:{mb:3},children:g}),e.jsxs(p,{component:"form",onSubmit:w,sx:{mt:2},children:[e.jsx(x,{fullWidth:!0,label:"Email",type:"email",value:i,onChange:a=>m(a.target.value),margin:"normal",required:!0,autoFocus:!0,disabled:r}),e.jsx(x,{fullWidth:!0,label:"Password",type:d?"text":"password",value:l,onChange:a=>h(a.target.value),margin:"normal",required:!0,disabled:r,InputProps:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(C,{onClick:()=>v(!d),edge:"end",children:d?e.jsx(D,{}):e.jsx(B,{})})})}}),e.jsx(f,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",sx:{mt:3,mb:2},disabled:r,children:r?e.jsx(I,{size:24}):"Login"}),e.jsx(f,{fullWidth:!0,variant:"outlined",color:"primary",size:"large",onClick:L,sx:{mb:2},disabled:r,children:"Try Demo Account"}),e.jsxs(p,{sx:{mt:2,textAlign:"center"},children:[e.jsxs(c,{variant:"body2",children:["Don't have an account?"," ",e.jsx(j,{component:y,to:"/signup",underline:"hover",children:"Sign up"})]}),e.jsx(c,{variant:"body2",sx:{mt:1},children:e.jsx(j,{component:y,to:"/forgot-password",underline:"hover",children:"Forgot password?"})})]})]})]})})})};export{R as default};
//# sourceMappingURL=Login-9f5a5voh.js.map
