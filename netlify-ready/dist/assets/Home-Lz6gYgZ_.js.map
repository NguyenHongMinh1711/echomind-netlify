{"version":3,"file":"Home-Lz6gYgZ_.js","sources":["../../src/pages/Home.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport {\n  Box,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardActions,\n  Button,\n  Paper,\n  Container,\n  useTheme,\n  TextField\n} from '@mui/material';\nimport {\n  Book as JournalIcon,\n  Chat as ChatIcon,\n  LibraryBooks as ResourcesIcon,\n  Lightbulb as PromptIcon\n} from '@mui/icons-material';\nimport { Link } from 'react-router-dom';\nimport { useSupabase } from '../contexts/SupabaseContext';\nimport MainLayout from '../layouts/MainLayout';\n\nfunction Home() {\n  const { session } = useSupabase();\n  const theme = useTheme();\n  const isAuthenticated = !!session;\n\n  const [message, setMessage] = useState('');\n  const [response, setResponse] = useState('');\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Feature cards for authenticated users\n  const featureCards = [\n    {\n      title: 'Journal',\n      description: 'Record your thoughts and track your mood over time.',\n      icon: <JournalIcon fontSize=\"large\" color=\"primary\" />,\n      path: '/journal',\n    },\n    {\n      title: 'Chat',\n      description: 'Talk with our AI assistant for emotional support.',\n      icon: <ChatIcon fontSize=\"large\" color=\"primary\" />,\n      path: '/chat',\n    },\n    {\n      title: 'Resources',\n      description: 'Access a library of mental health resources.',\n      icon: <ResourcesIcon fontSize=\"large\" color=\"primary\" />,\n      path: '/resources',\n    },\n    {\n      title: 'Daily Prompts',\n      description: 'Respond to daily reflection prompts for mindfulness.',\n      icon: <PromptIcon fontSize=\"large\" color=\"primary\" />,\n      path: '/prompts',\n    },\n  ];\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!message.trim()) return;\n\n    try {\n      // Generate a more meaningful response based on the message\n      const responseMessages = [\n        \"Thank you for sharing. Remember that it's okay to feel this way.\",\n        \"I've noted how you're feeling. Taking time to reflect is important.\",\n        \"Thanks for checking in today. Your emotional awareness is valuable.\",\n        \"I appreciate you sharing your thoughts. This helps track your mental well-being journey.\"\n      ];\n\n      // Select a random response\n      const randomResponse = responseMessages[Math.floor(Math.random() * responseMessages.length)];\n\n      // Create a journal entry with the message\n      const journalEntry = {\n        id: Date.now().toString(),\n        title: 'Quick Mood Entry',\n        content: message,\n        mood: 'neutral',\n        created_at: new Date()\n      };\n\n      console.log('Created journal entry:', journalEntry);\n\n      // Update state\n      setResponse(randomResponse);\n      setMessage('');\n\n      // Focus the input field after a short delay\n      setTimeout(() => {\n        if (inputRef.current) {\n          inputRef.current.focus();\n        }\n      }, 10);\n    } catch (error) {\n      console.error('Error:', error);\n      setResponse('An error occurred. Please try again.');\n    }\n  };\n\n  // Landing page for non-authenticated users\n  const LandingPage = () => (\n    <Box sx={{ py: 4 }}>\n      <Container maxWidth=\"lg\">\n        <Grid container spacing={6} alignItems=\"center\">\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n              Your Mental Well-being Companion\n            </Typography>\n            <Typography variant=\"h6\" color=\"textSecondary\" paragraph>\n              EchoMind helps you track your mental health journey through journaling,\n              AI-powered conversations, and personalized resources.\n            </Typography>\n            <Box sx={{ mt: 4 }}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                component={Link}\n                to=\"/signup\"\n                sx={{ mr: 2 }}\n              >\n                Sign Up\n              </Button>\n              <Button\n                variant=\"outlined\"\n                color=\"primary\"\n                size=\"large\"\n                component={Link}\n                to=\"/login\"\n              >\n                Login\n              </Button>\n            </Box>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Paper elevation={3} sx={{ p: 4 }}>\n              <Typography variant=\"h4\" component=\"h2\" gutterBottom>\n                How are you feeling today?\n              </Typography>\n              <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 3 }}>\n                <TextField\n                  fullWidth\n                  label=\"Share your thoughts...\"\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  multiline\n                  rows={4}\n                  autoFocus\n                  inputRef={inputRef}\n                />\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  sx={{ mt: 2 }}\n                >\n                  Submit\n                </Button>\n              </Box>\n              {response && (\n                <Paper elevation={1} sx={{ p: 2, mt: 3, bgcolor: 'primary.light', color: 'primary.contrastText' }}>\n                  <Typography variant=\"body1\">{response}</Typography>\n                </Paper>\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n\n        <Box sx={{ mt: 8 }}>\n          <Typography variant=\"h4\" component=\"h2\" align=\"center\" gutterBottom>\n            Features\n          </Typography>\n          <Grid container spacing={4} sx={{ mt: 4 }}>\n            {featureCards.map((card) => (\n              <Grid item xs={12} sm={6} md={3} key={card.title}>\n                <Card\n                  sx={{\n                    height: '100%',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out',\n                    '&:hover': {\n                      transform: 'translateY(-5px)',\n                      boxShadow: '0 8px 16px rgba(0,0,0,0.1)',\n                    },\n                  }}\n                >\n                  <Box\n                    sx={{\n                      p: 2,\n                      display: 'flex',\n                      justifyContent: 'center',\n                      backgroundColor: theme.palette.mode === 'dark'\n                        ? 'rgba(74, 111, 165, 0.1)'\n                        : 'rgba(74, 111, 165, 0.05)',\n                    }}\n                  >\n                    {card.icon}\n                  </Box>\n                  <CardContent sx={{ flexGrow: 1 }}>\n                    <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                      {card.title}\n                    </Typography>\n                    <Typography>\n                      {card.description}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </Box>\n\n        <Box sx={{ mt: 8, mb: 4 }}>\n          <Paper\n            sx={{\n              p: 4,\n              textAlign: 'center',\n              borderRadius: 4,\n              backgroundColor: theme.palette.mode === 'dark'\n                ? 'rgba(74, 111, 165, 0.1)'\n                : 'rgba(74, 111, 165, 0.05)',\n            }}\n          >\n            <Typography variant=\"h4\" component=\"h2\" gutterBottom>\n              Ready to start your mental well-being journey?\n            </Typography>\n            <Typography variant=\"body1\" paragraph sx={{ maxWidth: 700, mx: 'auto' }}>\n              Join EchoMind today and take the first step towards better mental health.\n              Our platform provides the tools you need to track, understand, and improve your well-being.\n            </Typography>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              component={Link}\n              to=\"/signup\"\n              sx={{ mt: 2 }}\n            >\n              Get Started\n            </Button>\n          </Paper>\n        </Box>\n      </Container>\n    </Box>\n  );\n\n  // Dashboard for authenticated users\n  const Dashboard = () => (\n    <Box>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        Welcome back, {session?.user.email?.split('@')[0]}\n      </Typography>\n      <Typography variant=\"body1\" paragraph>\n        Continue your mental well-being journey with EchoMind.\n      </Typography>\n\n      <Grid container spacing={4} sx={{ mt: 2 }}>\n        {featureCards.map((card) => (\n          <Grid item xs={12} sm={6} md={3} key={card.title}>\n            <Card\n              sx={{\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: '0 8px 16px rgba(0,0,0,0.1)',\n                },\n              }}\n            >\n              <Box\n                sx={{\n                  p: 2,\n                  display: 'flex',\n                  justifyContent: 'center',\n                  backgroundColor: theme.palette.mode === 'dark'\n                    ? 'rgba(74, 111, 165, 0.1)'\n                    : 'rgba(74, 111, 165, 0.05)',\n                }}\n              >\n                {card.icon}\n              </Box>\n              <CardContent sx={{ flexGrow: 1 }}>\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                  {card.title}\n                </Typography>\n                <Typography>\n                  {card.description}\n                </Typography>\n              </CardContent>\n              <CardActions>\n                <Button\n                  size=\"small\"\n                  color=\"primary\"\n                  component={Link}\n                  to={card.path}\n                >\n                  Go to {card.title}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </Box>\n  );\n\n  return (\n    <MainLayout>\n      {isAuthenticated ? <Dashboard /> : <LandingPage />}\n    </MainLayout>\n  );\n}\n\nexport default Home;\n"],"names":["Home","session","useSupabase","theme","useTheme","isAuthenticated","message","setMessage","useState","response","setResponse","inputRef","useRef","featureCards","jsx","JournalIcon","ChatIcon","ResourcesIcon","PromptIcon","handleSubmit","e","responseMessages","randomResponse","journalEntry","error","LandingPage","Box","jsxs","Container","Grid","Typography","Button","Link","Paper","TextField","card","Card","CardContent","Dashboard","_a","CardActions","MainLayout"],"mappings":"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"}