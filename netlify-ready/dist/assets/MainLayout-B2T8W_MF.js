import{u as T,ar as B,j as o,B as a,b,D as A,W as P,X as O,as as i,Y as l,at as R,au as k,n as c,av as W,aw as E,ax as G,ay as U,a0 as $,az as H,M,aA as J,aB as N,g as Q,aC as X,aD as I,h as Y,aE as q,k as K,l as V,R as Z,m as _,aF as oo}from"./mui-CFDhWL5c.js";import{u as eo,k as so,a as C,L as ao}from"./vendor-zWPymlFl.js";import{a as no,u as ro}from"./index-DnHAAhUv.js";const n=240,co=({children:F})=>{var j;const{darkMode:e,toggleDarkMode:f}=no(),{supabase:w,session:d}=ro(),y=T(),r=eo(),v=so(),L=B(y.breakpoints.down("md")),[x,h]=C.useState(!1),[p,u]=C.useState(null),m=()=>{h(!x)},D=s=>{u(s.currentTarget)},t=()=>{u(null)},S=async()=>{await w.auth.signOut(),t(),r("/login")},z=[{text:"Dashboard",icon:o.jsx(q,{}),path:"/dashboard"},{text:"Journal",icon:o.jsx(K,{}),path:"/journal"},{text:"Chat",icon:o.jsx(V,{}),path:"/chat"},{text:"Resources",icon:o.jsx(Z,{}),path:"/resources"},{text:"Daily Prompts",icon:o.jsx(_,{}),path:"/prompts"},{text:"Settings",icon:o.jsx(oo,{}),path:"/settings"}],g=o.jsxs("div",{children:[o.jsx(a,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(b,{variant:"h6",component:"div",sx:{fontWeight:"bold"},children:"EchoMind"})}),o.jsx(A,{}),o.jsx(P,{children:z.map(s=>o.jsxs(O,{button:!0,component:ao,to:s.path,selected:v.pathname===s.path,onClick:()=>L&&h(!1),sx:{borderRadius:"8px",mx:1,my:.5,"&.Mui-selected":{backgroundColor:e?"rgba(74, 111, 165, 0.2)":"rgba(74, 111, 165, 0.1)","&:hover":{backgroundColor:e?"rgba(74, 111, 165, 0.3)":"rgba(74, 111, 165, 0.2)"}},"&:hover":{backgroundColor:e?"rgba(74, 111, 165, 0.1)":"rgba(74, 111, 165, 0.05)"}},children:[o.jsx(i,{children:s.icon}),o.jsx(l,{primary:s.text})]},s.text))})]});return o.jsxs(a,{sx:{display:"flex"},children:[o.jsx(R,{position:"fixed",sx:{zIndex:s=>s.zIndex.drawer+1,backgroundColor:e?"#1E1E1E":"#FFFFFF",color:e?"#E0E0E0":"#333333",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.05)"},children:o.jsxs(k,{children:[o.jsx(c,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,sx:{mr:2,display:{md:"none"}},children:o.jsx(W,{})}),o.jsx(b,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:"EchoMind"}),o.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(E,{title:e?"Light Mode":"Dark Mode",children:o.jsx(c,{onClick:f,color:"inherit",children:e?o.jsx(G,{}):o.jsx(U,{})})}),d?o.jsxs(o.Fragment,{children:[o.jsx(E,{title:"Account",children:o.jsx(c,{onClick:D,size:"small",sx:{ml:2},"aria-controls":"menu-appbar","aria-haspopup":"true",children:o.jsx($,{sx:{width:32,height:32,bgcolor:"primary.main"},children:((j=d.user.email)==null?void 0:j.charAt(0).toUpperCase())||"U"})})}),o.jsxs(H,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!p,onClose:t,children:[o.jsxs(M,{onClick:()=>{t(),r("/profile")},children:[o.jsx(i,{children:o.jsx(J,{fontSize:"small"})}),o.jsx(l,{children:"Profile"})]}),o.jsxs(M,{onClick:S,children:[o.jsx(i,{children:o.jsx(N,{fontSize:"small"})}),o.jsx(l,{children:"Logout"})]})]})]}):o.jsx(Q,{color:"inherit",startIcon:o.jsx(X,{}),onClick:()=>r("/login"),children:"Login"})]})]})}),o.jsxs(a,{component:"nav",sx:{width:{md:n},flexShrink:{md:0}},children:[o.jsx(I,{variant:"temporary",open:x,onClose:m,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:n,backgroundColor:e?"#1E1E1E":"#FFFFFF",color:e?"#E0E0E0":"#333333"}},children:g}),o.jsx(I,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:n,backgroundColor:e?"#1E1E1E":"#FFFFFF",color:e?"#E0E0E0":"#333333",borderRight:e?"1px solid #333":"1px solid #e0e0e0"}},open:!0,children:g})]}),o.jsxs(a,{component:"main",sx:{flexGrow:1,p:3,width:{md:`calc(100% - ${n}px)`},backgroundColor:e?"#121212":"#F8F9FA",minHeight:"100vh"},children:[o.jsx(k,{}),o.jsx(Y,{maxWidth:"lg",sx:{mt:4,mb:4},children:F})]})]})};export{co as M};
//# sourceMappingURL=MainLayout-B2T8W_MF.js.map
