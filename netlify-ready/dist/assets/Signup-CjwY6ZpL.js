import{j as e,h as k,P as E,b as d,A as j,B as y,i as m,I as T,n as B,V as F,o as I,F as W,L as h,p as q,g as V,a as z}from"./mui-CFDhWL5c.js";import{u as M,a as t,L as p}from"./vendor-zWPymlFl.js";import{u as R}from"./index-DnHAAhUv.js";import{M as U}from"./MainLayout-B2T8W_MF.js";import{a as D}from"./authService-DJzAVVpJ.js";import"./supabase-DTcxSDRM.js";const K=()=>{const{supabase:N}=R(),b=M(),[l,v]=t.useState(""),[o,P]=t.useState(""),[u,S]=t.useState(""),[i,w]=t.useState(!1),[x,C]=t.useState(!1),[a,g]=t.useState(!1),[f,n]=t.useState(null),[r,A]=t.useState(null),L=async s=>{if(s.preventDefault(),!l||!o||!u){n("Please fill in all fields");return}if(o!==u){n("Passwords do not match");return}if(o.length<6){n("Password must be at least 6 characters long");return}if(!x){n("You must agree to the terms and conditions");return}try{g(!0),n(null),await D(l,o),A("Registration successful! Please check your email to confirm your account."),setTimeout(()=>{b("/login")},5e3)}catch(c){console.error("Signup error:",c),n(c instanceof Error?c.message:"Failed to sign up. Please try again.")}finally{g(!1)}};return e.jsx(U,{children:e.jsx(k,{maxWidth:"sm",children:e.jsxs(E,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(d,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Create an Account"}),f&&e.jsx(j,{severity:"error",sx:{mb:3},children:f}),r&&e.jsx(j,{severity:"success",sx:{mb:3},children:r}),e.jsxs(y,{component:"form",onSubmit:L,sx:{mt:2},children:[e.jsx(m,{fullWidth:!0,label:"Email",type:"email",value:l,onChange:s=>v(s.target.value),margin:"normal",required:!0,autoFocus:!0,disabled:a||!!r}),e.jsx(m,{fullWidth:!0,label:"Password",type:i?"text":"password",value:o,onChange:s=>P(s.target.value),margin:"normal",required:!0,disabled:a||!!r,InputProps:{endAdornment:e.jsx(T,{position:"end",children:e.jsx(B,{onClick:()=>w(!i),edge:"end",children:i?e.jsx(F,{}):e.jsx(I,{})})})}}),e.jsx(m,{fullWidth:!0,label:"Confirm Password",type:i?"text":"password",value:u,onChange:s=>S(s.target.value),margin:"normal",required:!0,disabled:a||!!r}),e.jsx(W,{control:e.jsx(q,{checked:x,onChange:s=>C(s.target.checked),color:"primary",disabled:a||!!r}),label:e.jsxs(d,{variant:"body2",children:["I agree to the"," ",e.jsx(h,{component:p,to:"/terms",underline:"hover",children:"Terms and Conditions"})," ","and"," ",e.jsx(h,{component:p,to:"/privacy",underline:"hover",children:"Privacy Policy"})]}),sx:{mt:2}}),e.jsx(V,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",sx:{mt:3,mb:2},disabled:a||!!r,children:a?e.jsx(z,{size:24}):"Sign Up"}),e.jsx(y,{sx:{mt:2,textAlign:"center"},children:e.jsxs(d,{variant:"body2",children:["Already have an account?"," ",e.jsx(h,{component:p,to:"/login",underline:"hover",children:"Login"})]})})]})]})})})};export{K as default};
//# sourceMappingURL=Signup-CjwY6ZpL.js.map
