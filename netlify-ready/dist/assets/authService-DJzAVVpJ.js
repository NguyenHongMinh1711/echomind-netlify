import{c}from"./supabase-DTcxSDRM.js";const u="https://anpmiebatvfzfexxzobr.supabase.co",w="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFucG1pZWJhdHZmemZleHh6b2JyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTc0NTk5NzcsImV4cCI6MjAzMzAzNTk3N30.Nh0Qs9OYrOWrXyB-XUO9Oe_DwN_-LQPliMFlXEBUo8A",d=()=>{var e,n;return typeof window<"u"&&((e=window.ENV_CONFIG)!=null&&e.SUPABASE_URL)?window.ENV_CONFIG.SUPABASE_URL:typeof window<"u"&&((n=window.ENV)!=null&&n.VITE_SUPABASE_URL)?window.ENV.VITE_SUPABASE_URL:(console.warn("Supabase URL not found in environment variables, using default"),u)},E=()=>{var e,n;return typeof window<"u"&&((e=window.ENV_CONFIG)!=null&&e.SUPABASE_ANON_KEY)?window.ENV_CONFIG.SUPABASE_ANON_KEY:typeof window<"u"&&((n=window.ENV)!=null&&n.VITE_SUPABASE_ANON_KEY)?window.ENV.VITE_SUPABASE_ANON_KEY:(console.warn("Supabase Anon Key not found in environment variables, using default"),w)};let t=null;const s=()=>{if(t)return t;try{const e=d(),n=E();return t=c(e,n,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"EchoMind/1.0.0"}}}),t}catch(e){throw console.error("Error initializing Supabase client:",e),e}},a=e=>(console.error("Supabase error:",e),e.message?e.message:e.error_description?e.error_description:"An unexpected error occurred. Please try again."),p=async(e,n)=>{try{const r=s(),{error:o}=await r.auth.signUp({email:e,password:n,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(o)throw o}catch(r){throw new Error(a(r))}},S=async(e,n)=>{try{const r=s(),{data:o,error:i}=await r.auth.signInWithPassword({email:e,password:n});if(i)throw i;return o}catch(r){throw new Error(a(r))}};export{p as a,S as s};
//# sourceMappingURL=authService-DJzAVVpJ.js.map
